<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sopa de Letras · Seguridad del Paciente</title>
    
    <!-- Favicons -->
    <link rel="icon" type="image/png" sizes="16x16"  href="../../../assets/images/icons/favicons/favicon_16.png">
    <link rel="icon" type="image/png" sizes="32x32"  href="../../../assets/images/icons/favicons/favicon_32.png">
    <link rel="icon" type="image/png" sizes="48x48"  href="../../../assets/images/icons/favicons/favicon_48.png">
    <link rel="icon" type="image/png" sizes="64x64"  href="../../../assets/images/icons/favicons/favicon_64.png">
    <link rel="icon" type="image/png" sizes="128x128" href="../../../assets/images/icons/favicons/favicon_128.png">
    <link rel="apple-touch-icon" sizes="180x180" href="../../../assets/images/icons/favicons/favicon_180.png">
    <link rel="icon" type="image/png" sizes="192x192" href="../../../assets/images/icons/favicons/favicon_192.png">
    <link rel="icon" type="image/png" sizes="256x256" href="../../../assets/images/icons/favicons/favicon_256.png">
    <link rel="icon" type="image/png" sizes="512x512" href="../../../assets/images/icons/favicons/favicon_512.png">


    <link rel="stylesheet" href="../../../css/style.css">
    <link rel="stylesheet" href="sopa.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <link rel="icon" type="image/png" href="../../../assets/images/icons/favicons/favicon_32.png">
</head>
<body>

    <header class="sp-header">
        <img src="../../../assets/images/icons/logos/logo_Estrategia.png" class="sp-logo">
        <h1 class="sp-title">Estrategia para la Seguridad del Paciente</h1>
        <img src="../../../assets/images/icons/logos/logo_CSPyE.svg" class="sp-logo-right">
    </header>

    <main class="sp-main">
        <div class="top-bar">
            <h2>Sopa de Letras</h2>
            <a href="../juega.html" class="btn-home">
                <i class="fa-solid fa-gamepad"></i> Volver a Juegos
            </a>
        </div>

        <div id="game-root"></div>
        
        <!-- Elemento flotante para feedback educativo -->
        <div id="edu-toast" class="feedback-overlay">
            <h3 style="margin:0 0 5px 0; color:#16a34a">¡Encontrado!</h3>
            <p id="edu-text" style="margin:0; color:#555">Definición...</p>
        </div>
        
        <footer class="sp-footer">
        Área de Gestión Sanitaria Sur de Córdoba · Consejería de Sanidad, Presidencia y Emergencias
    </footer>
        
    </main>

    <script type="module">
        import { initSopa } from "./sopa.js";
        import { saveScore } from "../../../js/core/scores.js";

        function saveScoreFirebase(nivel, puntos, tiempo) {
            const jugador = localStorage.getItem("jugador-sp") || "Anónimo";
            // Nivel: 'nivel1' (10x10) o 'nivel2' (15x15)
            return saveScore("sopa", nivel, jugador, puntos, tiempo);
        }

        initSopa({
            root: document.getElementById("game-root"),
            saveScoreFirebase
        });
    </script>

</body>
</html>