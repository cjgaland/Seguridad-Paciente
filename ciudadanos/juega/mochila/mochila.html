<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>La Mochila Segura · Juega</title>

    <link rel="icon" type="image/png" sizes="16x16"  href="../../../assets/images/icons/favicons/favicon_16.png">
    <link rel="icon" type="image/png" sizes="32x32"  href="../../../assets/images/icons/favicons/favicon_32.png">
    <link rel="icon" type="image/png" sizes="48x48"  href="../../../assets/images/icons/favicons/favicon_48.png">
    <link rel="stylesheet" href="../../../css/style.css">
    <link rel="stylesheet" href="mochila.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
</head>
<body>

    <header class="sp-header">
        <img src="../../../assets/images/icons/logos/logo_Estrategia.png" class="sp-logo">
        <h1 class="sp-title">Estrategia para la Seguridad del Paciente</h1>
        <img src="../../../assets/images/icons/logos/logo_CSPyE.svg" class="sp-logo-right">
    </header>

    <main class="sp-main">
        
        <div class="top-bar">
            <h2><i class="fa-solid fa-suitcase-medical" style="color:#9333ea;"></i> La Mochila Segura</h2>
            <a href="../juega.html" class="btn-home"><i class="fa-solid fa-arrow-left"></i> Salir</a>
        </div>

        <div class="game-info-bar">
            <p>Arrastra a la mochila <strong>solo lo necesario</strong> para un ingreso seguro. <br><small>(Haz clic si no puedes arrastrar)</small></p>
            <div class="score-box">
                <span>Puntos: <strong id="score">0</strong></span>
                <span>Faltan: <strong id="remaining">7</strong></span>
            </div>
        </div>

        <div class="game-area">
            
            <div class="items-shelf" id="shelf">
                </div>

            <div class="backpack-zone" id="backpack-zone">
                <div class="backpack-img">
                    <i class="fa-solid fa-suitcase-medical"></i>
                    <span>Arrastra aquí</span>
                </div>
                <div class="backpack-contents" id="backpack-contents">
                    </div>
            </div>

        </div>

        <div id="feedback-modal" class="modal hidden">
            <div class="modal-content">
                <i id="feedback-icon" class="fa-solid fa-check"></i>
                <h3 id="feedback-title">Título</h3>
                <p id="feedback-msg">Mensaje</p>
                <button onclick="closeModal()" class="btn-modal">Entendido</button>
            </div>
        </div>
        
        <div id="final-screen" class="final-screen hidden">
             <div class="final-content">
                <i class="fa-solid fa-trophy trophy-icon"></i>
                <h3>¡Mochila Lista!</h3>
                <p>Has preparado todo lo necesario para un ingreso seguro.</p>
                <p>Puntuación Final: <strong id="final-score">0</strong></p>
                
                <div class="final-actions">
                    <button onclick="location.reload()" class="btn-restart">Jugar de nuevo</button>
                    <button onclick="location.href='../ranking.html?juego=mochila&nivel=ciudadanos'" class="btn-ranking">Ver Ranking</button>
                </div>
            </div>
        </div>

    </main>

    <footer class="sp-footer">
        Área de Gestión Sanitaria Sur de Córdoba · Consejería de Sanidad, Presidencia y Emergencias
    </footer>

    <script type="module" src="mochila.js"></script>
</body>
</html>
